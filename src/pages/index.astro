---
import Image from '../components/Image.astro';
import Layout from '../layouts/Layout.astro';
---

<Layout page_title='Home'>
	<main data-pagefind-body>
		<h1 hidden>Home</h1> <!-- This is for search purposes -->
		<img id="waves" src="/waves.svg" alt="MHS Seals">
		<div id="post-waves">
			<div id="countdown" hidden></div> <!-- Countdown element -->
			<p id="top-text-element">
				Welcome to the MHS Seals! We are a Roboboat team from James Martin High School in Arlington, Texas.
				We are currently the only high school team in the Roboboat competition, and we are proud to
				represent our school and our community. We are a team of students who are passionate about
				robotics, engineering, and computer science. We are excited to compete in the Roboboat competition
				and to learn from the experience. We are also excited to share our journey with you, and we hope
				that you will follow along with us as we prepare for the competition.
			</p>
			<h3>Departments</h3>
			<div class="departments">
				<div id="cs" class="departments__item">
					<a href="/cs">Computer Science</a>
					<p>
						Our computer science team is responsible for everything computers,
						from setting up the computers on the boat to writing the code that
						controls the boat.
					</p>
				</div>
				<div id="engineering" class="departments__item">
					<a href="/engineering">Engineering</a>
					<p>
						Our mechanical engineering team is responsible for designing and building the
						physical components of the boat, from the hull to the propulsion system.
					</p>
				</div>
				<div id="electrical" class="departments__item">
					<a href="/electrical">Electrical</a>
					<p>
						Our electrical engineering team is responsible for designing and building the
						electrical systems that power the boat and control its components.
					</p>
				</div>
				<div id="marketing" class="departments__item">
					<a href="/marketing">Marketing</a>
					<p>
						Our marketing team is responsible for promoting the team and the
						competition, as well as raising funds and managing sponsorships.
					</p>
				</div>
				<iframe loading="lazy" src="https://www.youtube-nocookie.com/embed/S5ki5BaswGs?si=HMFzN0wlVGPxlbQQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
			</div>
		</div>
		<!-- This is the only way to not have these blurry -->
		<img id="waves-bottom" src="/waves_flipped.svg" alt="Waves" loading="lazy">
	</main>
</Layout>

<script>
	document.addEventListener("astro:page-load", () => {
		const countdownElement = document.getElementById('countdown');
		const eventDate = new Date('March 3, 2025 00:00:00').getTime();

		function updateCountdown() {
			const now = new Date().getTime();
			const distance = eventDate - now;

			if (distance > 0) {
				countdownElement.hidden = false;
			}

			const days = Math.floor(distance / (1000 * 60 * 60 * 24));
			const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
			const seconds = Math.floor((distance % (1000 * 60)) / 1000);

			countdownElement.innerHTML = `Countdown to Roboboat 2025: ${days}d ${hours}h ${minutes}m ${seconds}s`;
		}

		updateCountdown();
		setInterval(updateCountdown, 1000);
	});
</script>

<style>
	main {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		width: 100%;
		max-width: 100vw;
		margin: 0;
		padding: 3em 0 0 0;
	}

	body {
		margin: 0;
		padding: 0;
	}

	h1 {
		position: absolute;
		top: 25%;
		left: 50%;
		transform: translate(-50%, -50%);
		font-size: 6em;
	}

	#waves, #waves-bottom {
		user-drag: none; 
		user-select: none;
		-moz-user-select: none;
		-webkit-user-drag: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	#waves {
		width: 100%;
		border-radius: 0;
	}

	#post-waves {
		background-color: #375fca;
		color: white;
		display: flex;
		flex-direction: column;
		align-items: center;
		width: 100%;
		padding: 1em 0;
	}

	#post-waves p, #post-waves h2, #post-waves h3 {
		color: white;
		max-width: 768px;
	}

	.departments {
		display: flex;
		flex-direction: column;
		justify-content: space-around;
		/* gap: 1rem; */
		margin-top: 1rem;
		margin-bottom: 2rem;
		width: 768px;
	}

	.departments a {
		padding: 1.5em 1em;
		border: 1px solid transparent;
		border-radius: 12px;
		background-color: #4182cc;
		color: white;
		min-width: 25%;
		text-align: center;
		text-decoration: none;
		transition: background-color 0.2s;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.departments a:hover {
		background-color: var(--coral-pink);
	}

	.departments__item {
		display: flex;
		flex-direction: row;
		align-items: center;
		gap: 2rem;
	}

	iframe {
		width: 768px;
		aspect-ratio: 16 / 9;
		border-radius: 12px;
	}

	#waves-bottom {
		width: 100%;
		border-radius: 0;
		background-color: rgb(var(--gray-lighter));
	}

	#countdown {
		font-size: 1.5em;
		color: white;
		background: rgba(0, 0, 0, 0.7);
		padding: 0.5em 1em;
		border-radius: 8px;
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
		text-align: center;
		width: 768px;
	}

	@media screen and (max-width: 800px){
		#waves {
			width: 100%;
			content: url("/waves_mobile.svg");
		}

		#waves-bottom {
			width: 100%;
			content: url("/waves_flipped_mobile.svg");
		}

		#post-waves {
			padding-top: 1em;
		}

		#post-waves p, #post-waves h3 {
			max-width: 90%;
		}
		
		#roboboat-team {
			width: 95%;
			justify-content: center;
		}

		#roboboat-team img {
			height: 4rem;
		}

		#roboboat-team h2 {
			height: 1rem;
			font-size: 1.5rem;
		}

		.departments {
			flex-wrap: wrap;
			width: 95%;
		}

		.departments a {
			width: 45%;
		}

		iframe {
			width: 100%;
		}

		#countdown {
			width: 90%;
			padding: 0.25em 0.5em;
		}
	}
</style>