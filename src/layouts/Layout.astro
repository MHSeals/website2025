---
import BaseHead from '../components/BaseHead.astro'
import Header from '../components/Header.astro'
import Footer from '../components/Footer.astro'

import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';

interface Props {
    title?: string;
	description?: string;
	image?: string;
}

const {
    title = SITE_TITLE,
    description = SITE_DESCRIPTION,
    image = '/favicon.webp'
} = Astro.props;

// const anim_image = {
//   old: {
//     name: 'transition_exit',
//     duration: '1.0s',
//     easing: 'ease-in-out',
//     fillMode: 'forwards',
//   },
//   new: {
//     name: 'transition_enter',
//     duration: '1.0s',
//     easing: 'ease-in-out',
//     fillMode: 'backwards',
//   }
// };

// const transition_image = {
//   forwards: anim_image,
//   backwards: anim_image,
// };
---

<layout>
    <!doctype html>
    <html lang="en">
        <head>
            <BaseHead title={title} description={description} image={image} />
            <slot name="head" />
        </head>
        <body>
            <Header />
            <slot />
            <Footer />
        </body>
    </html>
    <!-- 
    This doesn't work well.

    <div class="transition">
        <img transition:animate={transition_image} src="/transition.svg" alt="transition" class="transition__img" />
    </div> -->
</layout>

<!-- <style>
    .transition__img {
        position: fixed;
        left: 0;
        width: 100%;
        height: 300vh;
        object-fit: cover;
        object-position: top;
        z-index: 1000;
        border-radius: 0;
        animation: transition_enter 1.0s ease-in-out forwards;
    }

    @keyframes transition_enter {
        0% {
            top: -50vh;
        }
        100% {
            top: 200vh;
        }
    }

    @keyframes transition_exit {
        0% {
            top: 100vh;
        }
        100% {
            top: -50vh;
        }
    }
</style> -->